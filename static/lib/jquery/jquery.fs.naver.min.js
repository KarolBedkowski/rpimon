/*
 * Naver Plugin [Formstone Library]
 * @author Ben Plum
 * @version 0.0.9
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */
 
if(jQuery)(function(c){function e(a){a=c.extend({},k,a);for(var f=c(this),g=0,e=f.length;g<e;g++){var d=f.eq(g),b=a;d.data("naver")||(c.extend(b,d.data("naver-options")),b.labelClosed=d.data("label-closed")||b.labelClosed,b.labelOpen=d.data("label-open")||b.labelOpen,b.animated&&d.addClass("animated"),d.addClass("naver").wrapInner('<div class="naver-container" />').wrapInner('<div class="naver-wrapper" />').prepend('<span class="naver-handle">'+(b.label?b.labelClosed:"")+"</span>"),b=c.extend({$nav:d,$container:d.find(".naver-container"), $wrapper:d.find(".naver-wrapper"),$handle:d.find(".naver-handle")},b),b.$nav.on("touchstart.naver mousedown.naver",".naver-handle",b,l).on("open.naver",b,m).on("close.naver",b,n).data("naver",b),h.activate.apply(b.$nav))}return f}function l(a){a.preventDefault();a.stopPropagation();c(a.currentTarget);a=a.data;c(".naver").not(a.$nav).trigger("close.naver");a.$nav.hasClass("open")?a.$nav.trigger("close.naver"):a.$nav.trigger("open.naver")}function m(a){a=a.data;a.$wrapper.css({height:a.$container.outerHeight(!0)}); a.$nav.addClass("open");a.label&&a.$handle.html(a.labelOpen)}function n(a){a=a.data;a.$wrapper.css({height:0});a.$nav.removeClass("open");a.label&&a.$handle.html(a.labelClosed)}var k={animated:!1,label:!0,labelClosed:"Navigation",labelOpen:"Close"},h={activate:function(){return c(this).each(function(){c(this).addClass("active").trigger("close.naver")})},deactivate:function(){return c(this).each(function(){c(this).removeClass("active").trigger("close.naver")})},destroy:function(){return c(this).each(function(){var a= c(this).data("naver");a.$handle.remove();a.$container.contents().unwrap().unwrap();a.$nav.removeClass("active").off(".naver").removeData("naver")})}};c.fn.naver=function(a){return h[a]?h[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof a&&a?this:e.apply(this,arguments)}})(jQuery);