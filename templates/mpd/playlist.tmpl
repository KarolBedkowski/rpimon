{{define "body"}}

<div class="pure-u-1">
	<section>
		<h1>MPD Current Playlists</h1>

		{{if .Error}}
		<div class="warnings">
			<p>Connection error:<br/>{{.Error}}</p>
		</div>
		{{else}}
		<p>
			<a class="pure-button" href="{{namedurl "mpd-pl-action" "action" "clear"}}" onclick="return lconfirm()">Clear</a>
		</p>
		<table class="pure-table">
			<thead>
				<tr>
					<th>Pos</th>
					<th>Album</th>
					<th>Artist</th>
					<th>track</th>
					<th>Title</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
			{{$currentSongId := .CurrentSongID}}
			{{range .Playlist}}
				{{if eq .Id $currentSongId}}
				<tr class="playlist-current-song">
				{{else}}
				<tr>
				{{end}}
					<td>{{.Pos}}</td>
					<td>{{.Album}}</td>
					<td>{{.Artist}}</td>
					<td>{{.Track}}</td>
					<td>{{.Title}}</td>
					<td><a href="{{namedurl "mpd-song-action" "song-id" .Id "action" "play"}}">Play</a>
					|
					<a href="{{namedurl "mpd-song-action" "song-id" .Id "action" "remove"}}">Remove</a>
					</td>
				</tr>
			{{end}}
			</tbody>
		</table>
		{{end}}
	</section>
</div>

<script src="/static/lib/jquery/jquery.tablesorter.min.js" type="text/javascript"></script>
<script type="text/javascript">
	function lconfirm() {
		return confirm('Are you sure?');
	}
	$(function() {
		$('table').tablesorter({
			ignoreCase: true,
		});
	});
</script>


{{end}}
