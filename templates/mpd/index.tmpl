{{define "body"}}
<div class="pure-u-1">
		<h1>MPD</h1>
</div>

{{if .Status.Error}}
<div class="pure-u-1">
	<div class="warnings">
		<p>Connection error:<br/>{{.Status.Error}}</p>
	</div>
</div>

{{else}}
<div class="pure-u-1">
	<section>
		<a class="pure-button" href="#" data-action="play">Play</a>
		<a class="pure-button" href="#" data-action="next">Next</a>
		<a class="pure-button" href="#" data-action="prev">Previous</a>
		<a class="pure-button" href="#" data-action="pause">Pause</a>
		<a class="pure-button" href="#" data-action="stop">Stop</a>
	</section>
</div>

<div class="pure-u-2-3">
	<section>
		<h2>Current song</h2>
		<table class="pure-table table-left-align">
			<tr>
				<th>Name</th>
				<td id="curr-name">{{.Status.Current.Name}}</td>
			</tr>
			<tr>
				<th>Artist</th>
				<td id="curr-artist">{{.Status.Current.Artist}}</td>
			</tr>
			<tr>
				<th>Title</th>
				<td id="curr-title">{{.Status.Current.Title}}</td>
			</tr>
			<tr>
				<th>Album</th>
				<td id="curr-album">{{.Status.Current.Album}}</td>
			</tr>
			<tr>
				<th>Track</th>
				<td id="curr-track">{{.Status.Current.Track}}</td>
			</tr>
			<tr>
				<th>Date</th>
				<td id="curr-date">{{.Status.Current.Date}}</td>
			</tr>
			<tr>
				<th>Genre</th>
				<td id="curr-genre">{{.Status.Current.Genre}}</td>
			</tr>
			<tr>
				<th>File</th>
				<td id="curr-file">{{.Status.Current.file}}</td>
			</tr>
		</table>
	</section>
</div>

<div class="pure-u-1-3">
	<section>
		<h2>Status</h2>
		<table class="pure-table table-left-align">
			<tr>
				<th>State</th>
				<td id="st-state">{{.Status.Status.state}}</td>
			</tr>
			<tr>
				<th>Time</th>
				<td id="st-time">{{.Status.Status.time}}</td>
			</tr>
			<tr>
				<th>Audio</th>
				<td id="st-audio">{{.Status.Status.audio}}</td>
			</tr>
			<tr>
				<th>Bitrate</th>
				<td id="st-bitrate">{{.Status.Status.bitrate}}</td>
			</tr>
			<tr>
				<th>Random</th>
				<td><span id="st-random">{{.Status.Status.random}}</span>
					<a href="/mpd/action/toggle_random">Toggle</a>
				</td>
			</tr>
			<tr>
				<th>Repeat</th>
				<td> <span id="st-repeat">{{.Status.Status.repeat}}</span>
					<a href="/mpd/action/toggle_repeat">Toggle</a>
				</td>
			</tr>
			<tr>
				<th>Volume</th>
				<td id="st-volume">{{.Status.Status.volume}}</td>
			</tr>
		</table>
	</section>
</div>

<div class="pure-u-1">
	<section>
		<h2>Actions</h2>
		<div class="pure-menu pure-menu-open">
		<ul>
			<li class="pure-menu-heading"><strong>Tools</strong></li>
			<li><a href="/mpd/action/update" onclick="return lconfirm()">Update</a></li>
		</ul>
		</div>
	</section>
</div>

{{end}}

<script src="/static/js/mpd-index.js" type="text/javascript" ></script>

<script type="text/javascript">
	function lconfirm() {
		return confirm('Are you sure?');
	}

	$(function() {
		$("a.pure-button").on("click", do_action);
		setTimeout(refresh, 100);
	});
</script>


{{end}}
