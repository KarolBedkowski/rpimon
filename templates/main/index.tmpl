{{define "body"}}


{{if .Warnings}}
<div class="container">
	<div class="alert alert-warning">
		<section>
			<h1>Warning</h1>
			<ul>
			{{range .Warnings}}
				<li>{{.}}</li>
			{{end}}
			</ul>
		</section>
	</div>
</div>
{{end}}

<div class="container">
	<div class="row">
		<div class="col-xs-12 col-sm-6 col-md-4">
			<h1>System</h1>
			<dl class="inline-dl">
				<dt>Load:</dt>
				<dd><span class="pie" data-diameter="32" data-colours='["red", "#f0f0f0"]'>{{.LoadTrucated}}/{{.MaxAcceptableLoad}}</span>
				<span>&nbsp;{{.Load.Load1}}, {{.Load.Load5}}, {{.Load.Load15}}</span></dd>
				<dt>Uptime:</dt>
				<dd>{{.Uptime.Uptime}}</dd>
			</dl>
		</div>

		<div class="col-xs-12 col-sm-6 col-md-4">
			<h1>CPU</h1>
			<dl class="inline-dl">
				<dt>Usage</dt>
				<dd><span class="pie" data-diameter="32" data-colours='["red", "orange", "yellow", "#f0f0f0"]'>{{.CPUUsage.User}},{{.CPUUsage.System}},{{.CPUUsage.IoWait}},{{.CPUUsage.Idle}}</span>
					<span>&nbsp;{{.CPUUsage.Usage}}% total used</span></dd>
				<dt>Temp</dt>
				<dd><span class="pie" data-diameter="32" data-colours='["red", "#f0f0f0"]'>{{.CPUInfo.Temp}}/100</span>
					<span>&nbsp;{{.CPUInfo.Temp}}Â°C</span></dd>
			</dl>
		</div>

		<div class="col-xs-12 col-sm-6 col-md-4">
			<h1>Memory</h1>
			<dl class="inline-dl">
				<dt>RAM</dt>
				<dd><span class="pie" data-diameter="32" data-colours='["red", "orange", "yellow", "#f0f0f0"]'>{{.MemInfo.UsedPerc}},{{.MemInfo.BuffersPerc}},{{.MemInfo.CachePerc}},{{.MemInfo.FreePerc}}</span>
					<span>&nbsp;{{.MemInfo.FreeUserPerc}}% available</span></dd>
				<dt>SWAP</dt>
				<dd><span class="pie" data-diameter="32" data-colours='["red", "#f0f0f0"]'>{{.MemInfo.SwapUsedPerc}}/100</span>
					<span>&nbsp;{{.MemInfo.SwapFreePerc}}% available</span></dd>
			</dl>
		</div>

		<div class="col-xs-12 col-sm-6 col-md-4">
			<h1>Filesystem</h1>
			<dl class="inline-dl">
				{{range .Filesystems}}
				<dt>{{.MountPoint}}</dt>
				<dd><span class="pie" data-diameter="32" data-colours='["red", "#f0f0f0"]'>{{.UsedPerc}}/100</span>
					&nbsp;{{.UsedPerc}}% used</dd>
				{{end}}
			</dl>
		</div>

		<div class="col-xs-12 col-sm-6 col-md-4">
			<h1>Network</h1>
			<dl class="inline-dl">
				{{range .Interfaces}}
					{{if ne .Address "-"}}
					<dt>{{.Name}}</dt>
					<dd>{{.Address}}</dd>
					{{end}}
				{{end}}
			</dl>
		</div>
		
		<div class="col-xs-12 col-sm-6 col-md-4">
			<h1>MPD</h1>
			{{if .MpdStatus}}
			<dl class="inline-dl">
				<dt>State:</dt>
				<dd>{{.MpdStatus.state}}</dd>
			</dl>
			{{else}}
			<p>Missing data</p>
			{{end}}
		</div>
	</div>
</div>
<script src="/static/lib/jquery/jquery.peity.min.js" type="text/javascript" ></script>

<script type="text/javascript">
	function refresh() {
		window.location.reload(true);
	};

	$(function() {
		$("span.pie").peity("pie")
		setTimeout(refresh, 60000);
	});
</script>

{{end}}
