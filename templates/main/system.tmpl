{{define "body"}}

{{if .Warnings}}
<div class="pure-u-1">
	<div class="warnings">
		<section>
			<h1>Warning</h1>
			<ul>
			{{range .Warnings}}
				<li>{{.}}</li>
			{{end}}
			</ul>
		</section>
	</div>
</div>
{{end}}

<div class="pure-g-r content-ribbon">
	<section>
		<div class="pure-u-1">
			<h1>{{.BasePageContext.Hostname}}</h1>
		</div>
		<div class="pure-u-1">
				<p><label>Load:</label> {{.Load}}</p>
		</div>
		<div class="pure-u-1-2">
			<p><label>Uptime:</label> {{.Uptime}}</p>
		</div>
		<div class="pure-u-1-2">
			<p><label>Users:</label> {{.Users}}</p>
		</div>
		<div class="pure-u-1">
			<p><label>Kernel:</label> {{.Uname}}</p>
		</div>
	</section>
</div>

<div class="pure-u-1-2">
	<section>
		<h1>CPU</h1>
		<div class="big-chart">
			<span class="pie" data-diameter="120" data-colours='["red", "orange", "yellow", "#f0f0f0"]'>{{.CPUUser}},{{.CPUSystem}},{{.CPUIowait}},{{.CPUIdle}}</span>
		</div>
		<table class="pure-table">
			<tr>
				<th>User</th>
				<td>{{.CPUUser}}%</td>
			</tr>
			<tr>
				<th>System</th>
				<td>{{.CPUSystem}}%</td>
			</tr>
			<tr>
				<th>IO</th>
				<td>{{.CPUIowait}}%</td>
			</tr>
			<tr>
				<th>Freq</th>
				<td>{{.CPUFreq}}</td>
			</tr>
			<tr>
				<th>Temp</th>
				<td>{{.CPUTemp}}Â°C</td>
			</tr>
		</table>
	</section>
</div>

<div class="pure-u-1-2">
	<section>
		<h1>Memory</h1>
		<div class="big-chart">
			<span class="pie" data-diameter="120" data-colours='["red", "orange", "yellow", "#f0f0f0"]'>{{.MemUsedPerc}},{{.MemBuffersPerc}},{{.MemCachePerc}},{{.MemFreePerc}}</span>
		</div>
		<table class="pure-table">
			<tr>
				<th>User</th>
				<td>{{.MemUsedPerc}}%</td>
			</tr>
			<tr>
				<th>Buffers</th>
				<td>{{.MemBuffersPerc}}%</td>
			</tr>
			<tr>
				<th>Cache</th>
				<td>{{.MemCachePerc}}%</td>
			</tr>
			<tr>
				<th>Swap Used</th>
				<td>{{.MemSwapUsedPerc}}%</td>
			</tr>
		</table>
	</section>
</div>

<div class="pure-u-1-2">
	<section>
		<h1>Mount</h1>
		<table class="pure-table">
			<thead>
				<tr>
					<th>Filesystem</th>
					<th colspan="2">Used</th>
				</tr>
			</thead>
			{{range .Filesystems}}
			<tr>
				<td>{{.MountPoint}}</td>
				<td><span class="pie" data-diameter="32" data-colours='["red", "#f0f0f0"]'>{{.UsedPerc}},{{.FreePerc}}</span></td>
				<td>{{.UsedPerc}}%</td>
			</tr>
			{{end}}
		</table>
	</section>
</div>

<div class="pure-u-1-2">
	<section>
		<h1>Network interfaces</h1>
		<table class="pure-table">
			<thead>
				<tr>
					<th>Interface</th>
					<th>IP</th>
				</tr>
			</thead>
			{{range .Interfaces}}
			<tr>
				<td>{{.Name}}</td>
				<td>{{.Address}}</td>
			</tr>
			{{end}}
		</table>
	</section>
</div>

<script src="/static/lib/jquery/jquery.peity.min.js" type="text/javascript" ></script>
<script type="text/javascript">
	function refresh() {
		window.location.reload(true);
	};

	$(function() {
		$("span.pie").peity("pie")
		 setTimeout(refresh, 60000);
	});
</script>

{{end}}
