
{{define "body"}}

<div class="container">
	<div class="table-responsive">
		<table class="table-hover table-bordered table-condensed" id="services">
			<thead>
				<tr>
					<th>Service</th>
					<th>Status</th>
					<th width="120px">Actions</th>
				</tr>
			</thead>
			<tbody>
			{{range $key, $val := .Services}}
				<tr {{if eq $val "+"}}class="active"{{end}}>
					<td>{{$key}}</td>
					<td>{{if eq $val "+"}}running{{else}}{{if eq $val "-"}}stoped{{else}}{{$val}}{{end}}{{end}}</td>
					<td><a href="services/{{$key | urlquery}}/start" title="Start"><span class="glyphicon glyphicon-play"></span></a> 
					&nbsp;
					<a href="services/{{$key | urlquery}}/stop" title="Stop"><span class="glyphicon glyphicon-stop"></span></a> 
					&nbsp;
					<a href="services/{{$key | urlquery}}/restart" title="Restart"><span class="glyphicon glyphicon-repeat"></span></a> 
					&nbsp;
					<a href="services/{{$key | urlquery}}/reload" title="Reload"><span class="glyphicon glyphicon-refresh"></span></a> 
					&nbsp;
					<a href="services/{{$key | urlquery}}/force-reload" title="Force Reload"><span class="glyphicon glyphicon-retweet"></span></a>
					</td>
				</tr>
			{{end}}
			</tbody>
		</table>
	</div>
	{{template "pager" }}
</div>


<script src="/static/lib/jquery/jquery.tablesorter.min.js" type="text/javascript"></script>
<script type="text/javascript">
	$(function() {
		$('table').tablesorter({
			ignoreCase: true,
		});
		addPager($('table'));
		$('table#services a').on("click", function() {
			return RPI.confirm();
		});
	});
</script>
{{end}}
